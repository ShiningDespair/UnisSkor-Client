{"ast":null,"code":"const {\n  last,\n  clip_rgb,\n  type\n} = require('./utils');\nconst _input = require('./io/input');\nclass Color {\n  constructor(...args) {\n    const me = this;\n    if (type(args[0]) === 'object' && args[0].constructor && args[0].constructor === this.constructor) {\n      // the argument is already a Color instance\n      return args[0];\n    }\n\n    // last argument could be the mode\n    let mode = last(args);\n    let autodetect = false;\n    if (!mode) {\n      autodetect = true;\n      if (!_input.sorted) {\n        _input.autodetect = _input.autodetect.sort((a, b) => b.p - a.p);\n        _input.sorted = true;\n      }\n      // auto-detect format\n      for (let chk of _input.autodetect) {\n        mode = chk.test(...args);\n        if (mode) break;\n      }\n    }\n    if (_input.format[mode]) {\n      const rgb = _input.format[mode].apply(null, autodetect ? args : args.slice(0, -1));\n      me._rgb = clip_rgb(rgb);\n    } else {\n      throw new Error('unknown format: ' + args);\n    }\n\n    // add alpha channel\n    if (me._rgb.length === 3) me._rgb.push(1);\n  }\n  toString() {\n    if (type(this.hex) == 'function') return this.hex();\n    return `[${this._rgb.join(',')}]`;\n  }\n}\nmodule.exports = Color;","map":{"version":3,"names":["last","clip_rgb","type","require","_input","Color","constructor","args","me","mode","autodetect","sorted","sort","a","b","p","chk","test","format","rgb","apply","slice","_rgb","Error","length","push","toString","hex","join","module","exports"],"sources":["C:/Users/mehme/OneDrive/Masaüstü/UniScore/uniscore/node_modules/chroma-js/src/Color.js"],"sourcesContent":["const {last, clip_rgb, type} = require('./utils');\nconst _input = require('./io/input');\n\nclass Color {\n\n    constructor(...args) {\n        const me = this;\n        if (type(args[0]) === 'object' &&\n            args[0].constructor &&\n            args[0].constructor === this.constructor) {\n            // the argument is already a Color instance\n            return args[0];\n        }\n\n        // last argument could be the mode\n        let mode = last(args);\n        let autodetect = false;\n\n        if (!mode) {\n            autodetect = true;\n            if (!_input.sorted) {\n                _input.autodetect = _input.autodetect.sort((a,b) => b.p - a.p);\n                _input.sorted = true;\n            }\n            // auto-detect format\n            for (let chk of _input.autodetect) {\n                mode = chk.test(...args);\n                if (mode) break;\n            }\n        }\n\n        if (_input.format[mode]) {\n            const rgb = _input.format[mode].apply(null, autodetect ? args : args.slice(0,-1));\n            me._rgb = clip_rgb(rgb);\n        } else {\n            throw new Error('unknown format: '+args);\n        }\n\n        // add alpha channel\n        if (me._rgb.length === 3) me._rgb.push(1);\n    }\n\n    toString() {\n        if (type(this.hex) == 'function') return this.hex();\n        return `[${this._rgb.join(',')}]`;\n    }\n\n}\n\nmodule.exports = Color;\n"],"mappings":"AAAA,MAAM;EAACA,IAAI;EAAEC,QAAQ;EAAEC;AAAI,CAAC,GAAGC,OAAO,CAAC,SAAS,CAAC;AACjD,MAAMC,MAAM,GAAGD,OAAO,CAAC,YAAY,CAAC;AAEpC,MAAME,KAAK,CAAC;EAERC,WAAWA,CAAC,GAAGC,IAAI,EAAE;IACjB,MAAMC,EAAE,GAAG,IAAI;IACf,IAAIN,IAAI,CAACK,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,QAAQ,IAC1BA,IAAI,CAAC,CAAC,CAAC,CAACD,WAAW,IACnBC,IAAI,CAAC,CAAC,CAAC,CAACD,WAAW,KAAK,IAAI,CAACA,WAAW,EAAE;MAC1C;MACA,OAAOC,IAAI,CAAC,CAAC,CAAC;IAClB;;IAEA;IACA,IAAIE,IAAI,GAAGT,IAAI,CAACO,IAAI,CAAC;IACrB,IAAIG,UAAU,GAAG,KAAK;IAEtB,IAAI,CAACD,IAAI,EAAE;MACPC,UAAU,GAAG,IAAI;MACjB,IAAI,CAACN,MAAM,CAACO,MAAM,EAAE;QAChBP,MAAM,CAACM,UAAU,GAAGN,MAAM,CAACM,UAAU,CAACE,IAAI,CAAC,CAACC,CAAC,EAACC,CAAC,KAAKA,CAAC,CAACC,CAAC,GAAGF,CAAC,CAACE,CAAC,CAAC;QAC9DX,MAAM,CAACO,MAAM,GAAG,IAAI;MACxB;MACA;MACA,KAAK,IAAIK,GAAG,IAAIZ,MAAM,CAACM,UAAU,EAAE;QAC/BD,IAAI,GAAGO,GAAG,CAACC,IAAI,CAAC,GAAGV,IAAI,CAAC;QACxB,IAAIE,IAAI,EAAE;MACd;IACJ;IAEA,IAAIL,MAAM,CAACc,MAAM,CAACT,IAAI,CAAC,EAAE;MACrB,MAAMU,GAAG,GAAGf,MAAM,CAACc,MAAM,CAACT,IAAI,CAAC,CAACW,KAAK,CAAC,IAAI,EAAEV,UAAU,GAAGH,IAAI,GAAGA,IAAI,CAACc,KAAK,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC;MACjFb,EAAE,CAACc,IAAI,GAAGrB,QAAQ,CAACkB,GAAG,CAAC;IAC3B,CAAC,MAAM;MACH,MAAM,IAAII,KAAK,CAAC,kBAAkB,GAAChB,IAAI,CAAC;IAC5C;;IAEA;IACA,IAAIC,EAAE,CAACc,IAAI,CAACE,MAAM,KAAK,CAAC,EAAEhB,EAAE,CAACc,IAAI,CAACG,IAAI,CAAC,CAAC,CAAC;EAC7C;EAEAC,QAAQA,CAAA,EAAG;IACP,IAAIxB,IAAI,CAAC,IAAI,CAACyB,GAAG,CAAC,IAAI,UAAU,EAAE,OAAO,IAAI,CAACA,GAAG,CAAC,CAAC;IACnD,OAAQ,IAAG,IAAI,CAACL,IAAI,CAACM,IAAI,CAAC,GAAG,CAAE,GAAE;EACrC;AAEJ;AAEAC,MAAM,CAACC,OAAO,GAAGzB,KAAK","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}